(jbuild_version 1)

(library
 ((name        dtc_pb)
  (public_name dtc-pb)
  (modules (Dtcprotocol_pb Dtcprotocol_pp Dtcprotocol_types))
  (libraries (ocaml-protoc))))

(rule
 ((targets (dtcprotocol_pb.ml dtcprotocol_pb.mli
            dtcprotocol_pp.ml dtcprotocol_pp.mli
            dtcprotocol_types.ml dtcprotocol_types.mli))
  (deps    (dtcprotocol.proto))
  (action (run ocaml-protoc -ml_out . ${<}))))
